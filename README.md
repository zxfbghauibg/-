# -
数字化供应链管理系统，实现全流程可视化、数据可追溯、业务高效协同。
1.1 项目背景
随着百货中心业务规模扩大，商品品类增多（涵盖生鲜、日用百货、家电等），供应链环节（采购、库存、配送、结算）需高效协同。传统人工管理模式存在数据不实时、流程繁琐、易出错等问题，故需开发一套数字化供应链管理系统，实现全流程可视化、数据可追溯、业务高效协同。
1.2 系统目标
实现采购、库存、配送、结算全流程线上化管理，提升作业效率；
实时监控库存状态，避免缺货 / 积压，降低运营成本；
建立供应商管理体系，优化合作流程，保障供货稳定性；
提供数据统计与分析功能，辅助管理层决策。
1.3 技术栈
前端：HTML5、CSS3、JavaScript、Vue3、Vue Router、Pinia、Element Plus、ECharts
后端：Java、Spring Boot、Spring MVC、Spring Security、MyBatis
数据层：MySQL（主数据库）、Redis（缓存）
部署：前端（Nginx）、后端（Docker 容器化）
二、系统架构设计
2.1 架构总览
采用前后端分离架构，清晰划分职责，支持独立开发与部署：
plaintext
客户端（浏览器/移动端H5）
        ↓↑
前端层（Vue3 + Element Plus）——— Nginx部署
        ↓↑
后端层（Spring Boot + MyBatis）——— Docker容器
        ↓↑
数据层（MySQL + Redis）
2.2 各层职责
层级	核心职责
前端层	负责用户界面渲染、交互逻辑处理、数据可视化展示，通过 Axios 调用后端 API。
后端层	提供 RESTful API 接口，处理业务逻辑、权限校验、数据持久化，通过 MyBatis 操作数据库。
数据层	存储业务数据（MySQL），缓存高频访问数据（如库存、字典表）以提升性能（Redis）。
三、核心业务模块设计
3.1 基础信息管理模块
3.1.1 功能描述
维护系统基础数据，为其他模块提供支撑，包括商品、供应商、仓库、用户与权限管理。
3.1.2 核心功能点
功能子模块	具体功能
商品管理	商品分类（多级分类）、SKU 信息维护（编码、规格、单价）、供应商关联、库存阈值设置。
供应商管理	供应商信息录入（名称、联系人、资质文件）、合作状态管理、供应商品范围维护。
仓库管理	仓库信息（位置、容量）、库位划分（分区编码）、仓库负责人关联。
用户与权限	基于 RBAC 模型的角色定义（采购员、库管员、财务）、权限分配（菜单 / 按钮级控制）。
3.1.3 技术实现
前端：使用el-table展示数据列表，el-dialog实现新增 / 编辑表单，Pinia 存储全局字典（如商品分类）。
后端：
实体类：Goods、Supplier、Warehouse、User、Role；
Mapper 层：通过 MyBatis 实现 CRUD，resultMap处理商品 - 供应商多对多关联；
接口示例：GET /api/goods（查询商品列表）、POST /api/supplier（新增供应商）。
3.2 采购管理模块
3.2.1 功能描述
实现从采购计划制定到订单执行的全流程管理，确保商品按需采购。
3.2.2 核心功能点
功能子模块	具体功能
采购计划	自动生成（基于库存预警 + 销售数据）或手动创建计划，包含商品、数量、目标供应商。
采购订单	生成订单（关联计划、供应商、交货日期），支持审核、修改、取消操作。
订单跟踪	实时查看订单状态（待发货 / 已发货 / 部分收货 / 全部收货），关联入库单信息。
3.2.3 技术实现
前端：用 ECharts 绘制采购量趋势图，el-select联动选择商品与供应商，el-timeline展示订单状态流转。
后端：
业务逻辑：订单生成时校验供应商资质（合作状态）、商品库存上限；
事务控制：订单提交时锁定预采购量，避免重复采购；
Mapper 层：PurchaseOrderMapper关联查询订单与商品明细（PurchaseOrderItem）。
3.3 库存管理模块
3.3.1 功能描述
实时监控库存状态，处理入库、出库、盘点等操作，确保库存数据准确。
3.3.2 核心功能点
功能子模块	具体功能
入库管理	采购到货后，库管员确认数量 / 质量，生成入库单，自动更新库存。
出库管理	根据门店要货单生成出库单，记录库位信息，扣减对应商品库存。
库存预警	设置最低 / 最高库存阈值，低于阈值时触发提醒（前端弹窗 + 系统消息）。
库存盘点	定期盘点，记录实际库存与系统差异，生成盘点报告，支持差异调整。
3.3.3 技术实现
前端：el-badge显示预警商品数量，el-upload上传入库验收单图片，el-progress展示盘点完成率。
后端：
事务管理：入库时同时更新inventory表与inbound_order表，保证数据一致性；
缓存优化：Redis 缓存热门商品库存（如销量 Top100），减少数据库查询；
定时任务：Spring Scheduler 每日检查库存阈值，触发预警逻辑。
3.4 配送管理模块
3.4.1 功能描述
连接仓库与门店，管理商品配送全流程，确保商品及时送达。
3.4.2 核心功能点
功能子模块	具体功能
配送单管理	根据门店要货申请生成配送单，关联出库单、配送车辆、司机信息。
配送跟踪	记录配送状态（待配送 / 在途 / 已送达 / 异常），支持上传签收凭证（照片）。
路径优化	基于仓库与门店位置，推荐最优配送路线（集成第三方地图 API）。
3.4.3 技术实现
前端：集成高德 / 百度地图 SDK，标记配送位置与路线；el-steps展示配送进度。
后端：
状态机：Spring StateMachine 管理配送单状态流转（如 “在途” 不可直接改为 “已取消”）；
接口示例：GET /api/delivery/track/{id}（实时查询配送位置）。
3.5 结算管理模块
3.5.1 功能描述
处理与供应商的对账、付款流程，确保财务数据准确。
3.5.2 核心功能点
功能子模块	具体功能
对账管理	自动关联采购订单、入库单，生成对账单（数量、金额、扣款项）。
付款管理	财务审核对账单后生成付款单，记录付款金额、方式、时间，支持凭证上传。
报表统计	按周期（月 / 季）生成供应商应付 / 已付 / 欠款报表，支持 Excel 导出。
3.5.3 技术实现
前端：el-table展示对账单明细，xlsx库实现报表导出，el-steps展示付款审核流程。
后端：
对账逻辑：通过采购订单号关联入库单，计算实际应付款（扣除破损 / 退货金额）；
权限控制：@PreAuthorize注解限制仅财务角色操作付款单。
四、数据库设计
4.1 核心表结构（简化版）
表名	核心字段	说明
商品id，名称，类别_id，规格，价格，供应商_id， min_stock, max_stock
供应商id、名称、联系人、qualification_status、settment_cycle、create_time
采购订单id、供应商id、create_time、status、check_user、total_amount
Purchase_order_item id, order_id, goods_id, quantity, unit_price, total_price
库存id，商品id，仓库id，数量，位置码，更新时间
Delivery_order id, outbound_id, store_id, driver_id, status, delivery_time
结算id、suppler_id、order_ids、total_amount、status、pay_time
4.2 索引设计
为频繁查询字段建立索引：goods.supplier_id、inventory.goods_id、purchase_order.status；
为关联字段建立外键：purchase_order.supplier_id 关联 supplier.id，保证数据一致性。
